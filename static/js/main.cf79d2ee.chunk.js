(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{29:function(e,a,t){e.exports=t(58)},34:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(25),l=t.n(c),o=t(1),s=t(4),m=t(9);t(34);var i=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark indigo mb-4"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Comeve"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#basicExampleNav","aria-controls":"basicExampleNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"basicExampleNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto mr-5 "},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{className:"nav-link",to:"/home"},"Home")),r.a.createElement("li",{className:"nav-item "},r.a.createElement(s.b,{className:"nav-link",to:"/eventos/listar"},"Eventos")),r.a.createElement("li",{className:"nav-item "},r.a.createElement(s.b,{className:"nav-link",to:"/locais/listar"},"Locais")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("div",{className:"nav-link dropdown-toggle cursor-pointer",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},localStorage.getItem("username")),r.a.createElement("div",{className:"dropdown-menu dropdown-primary","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement(s.b,{className:"dropdown-item",to:"/eventos/listar"},"Eventos"),r.a.createElement("a",{className:"dropdown-item",href:"/",onClick:function(){localStorage.clear(),window.location.reload()}},"Sair")))))))};var u=function(){return r.a.createElement("footer",{className:"page-footer font-small fixed-bottom indigo"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 2020: Comeve"))};var d=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Home"),r.a.createElement("p",null,"Aplica\xe7\xe3o para organiza\xe7\xe3o dos recursos dos eventos do col\xe9gio"))},b=t(3),E=t.n(b),p=t(28),v=function(){window.location.hostname;return"http://localhost:8001"},f=t.n(p).a.create({baseURL:v(),headers:{Authorization:"Bearer "+localStorage.getItem("token")}});console.log(v());var N=f;var h=function(){var e=Object(n.useState)("lucas.assuncao"),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)("Sic7c8sic1"),s=Object(o.a)(l,2),m=s[0],i=s[1],u=Object(n.useState)(!1),d=Object(o.a)(u,2),b=d[0],p=d[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center mt-5"},r.a.createElement("div",{className:"col-md-6"},b&&r.a.createElement("div",{className:"alert alert-warning mt-2",role:"alert"},b),r.a.createElement("form",{className:"border border-light p-5",onSubmit:function(e){var a,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,E.a.awrap(N.post("/authenticate",{username:t,password:m}));case 4:a=r.sent,n=a.data,localStorage.setItem("token",n.token),localStorage.setItem("username",n.username),window.location.reload(),r.next=20;break;case 11:if(r.prev=11,r.t0=r.catch(1),r.t0.response){r.next=15;break}return r.abrupt("return",p("Erro no Servidor!"));case 15:if("username"!==r.t0.response.data[0].field){r.next=19;break}return p("Usu\xe1rio n\xe3o cadastrado"),r.abrupt("return",!1);case 19:p("Senha Errada");case 20:case"end":return r.stop()}}),null,null,[[1,11]])}},r.a.createElement("input",{type:"text",className:"form-control mb-4",placeholder:"Usuario",value:t,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("input",{type:"password",className:"form-control mb-4",placeholder:"Senha",value:m,onChange:function(e){return i(e.target.value)},required:!0}),r.a.createElement("button",{className:"btn btn-outline-indigo btn-block",type:"submit"},"ENTRAR")))))};var g=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1],l=1;return Object(n.useEffect)((function(){!function(){var e;E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(N.get("/events"));case 2:e=a.sent,c(e.data),console.log(e.data);case 5:case"end":return a.stop()}}))}()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-12 border-bottom"},r.a.createElement(s.b,{type:"button",className:"btn btn-indigo float-right",to:"/eventos/cadastrar"},"Cadastrar Evento"),r.a.createElement("h2",null,"Eventos"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Usuario"),r.a.createElement("th",{scope:"col"},"Nome"),r.a.createElement("th",{scope:"col"},"Local"),r.a.createElement("th",{scope:"col"},"Date"),r.a.createElement("th",{scope:"col"},"In\xedcio"),r.a.createElement("th",{scope:"col"},"Fim"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},l++),r.a.createElement("td",null,e.user.username),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.place.name),r.a.createElement("td",null,function(e){var a=new Date(e),t=String(a.getMonth()+1),n=String(a.getDate()),r=String(a.getFullYear());return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),"".concat(n,"/").concat(t,"/").concat(r)}(e.date)),r.a.createElement("td",null,e.start),r.a.createElement("td",null,e.end))})))))))};var w=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),u=i[0],d=i[1],b=Object(n.useState)(""),p=Object(o.a)(b,2),v=p[0],f=p[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),w=g[0],j=g[1],O=Object(n.useState)(""),S=Object(o.a)(O,2),y=S[0],x=S[1],k=Object(n.useState)([]),C=Object(o.a)(k,2),F=C[0],D=C[1],L=Object(m.f)();return Object(n.useEffect)((function(){!function(){var e,a;E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.awrap(N.get("/places"));case 2:e=t.sent,a=e.data,D(a);case 5:case"end":return t.stop()}}))}()}),[]),r.a.createElement("div",{className:"container pb-5"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-12 border-bottom"},r.a.createElement("h2",null,"Cadastrar Evento"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("form",{className:"border border-light p-4",onSubmit:function(e){var a;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),a={name:t,place_id:u,date:v,start:w,end:y},n.next=4,E.a.awrap(N.post("/events",a));case 4:200===n.sent.status&&L.push("/eventos/listar");case 6:case"end":return n.stop()}}))}},r.a.createElement("label",{htmlFor:"name"},"Nome"),r.a.createElement("input",{type:"text",id:"name",className:"form-control mb-4",placeholder:"Nome do eventos ..",value:t,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"place"},"Local"),r.a.createElement("select",{value:u,onChange:function(e){return d(e.target.value)},className:"form-control",required:!0},r.a.createElement("option",{value:""},"Selecione"),F.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"date"},"Data"),r.a.createElement("input",{type:"date",id:"date",className:"form-control mb-4",value:v,onChange:function(e){return f(e.target.value)},required:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"start"},"Inicio"),r.a.createElement("input",{type:"time",id:"start",className:"form-control mb-4",value:w,onChange:function(e){return j(e.target.value)},required:!0})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"end"},"Fim"),r.a.createElement("input",{type:"time",id:"end",className:"form-control mb-4",value:y,onChange:function(e){return x(e.target.value)},required:!0}))),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-outline-indigo",type:"submit"},"Salvar"),r.a.createElement(s.b,{className:"btn btn-outline-danger",type:"submit",to:"/eventos/listar"},"Cancelar"))))))};var j=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1],l=1;return Object(n.useEffect)((function(){!function(){var e;E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(N.get("/places"));case 2:e=a.sent,c(e.data);case 4:case"end":return a.stop()}}))}()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-12 border-bottom"},r.a.createElement(s.b,{type:"button",className:"btn btn-indigo float-right",to:"/locais/cadastrar"},"Cadastrar Locais"),r.a.createElement("h2",null,"Locais"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Nome"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},l++),r.a.createElement("td",null,e.name))})))))))};var O=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),u=i[0],d=i[1],b=Object(m.f)();return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:"container pb-5"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-md-12 border-bottom"},r.a.createElement("h2",null,"Cadastrar Local"))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-8"},u&&r.a.createElement("div",{className:"alert alert-warning mt-2",role:"alert"},u),r.a.createElement("form",{className:"border border-light p-4",onSubmit:function(e){var a;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,n.next=4,E.a.awrap(N.post("/places",{name:t}));case 4:200===n.sent.status&&b.push("/locais/listar"),n.next=14;break;case 8:if(n.prev=8,n.t0=n.catch(1),n.t0.response){n.next=12;break}return n.abrupt("return",d("Erro no Servidor!"));case 12:a=n.t0.response.data.message,d(a);case 14:case"end":return n.stop()}}),null,null,[[1,8]])}},r.a.createElement("label",{htmlFor:"name"},"Nome"),r.a.createElement("input",{type:"text",id:"name",className:"form-control mb-4",placeholder:"Nome do local ..",value:t,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-outline-indigo",type:"submit"},"Salvar"),r.a.createElement(s.b,{className:"btn btn-outline-danger",type:"submit",to:"/locais/listar"},"Cancelar"))))))};var S=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)((function(){localStorage.getItem("token")&&c(!0)}),[]),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(s.a,null,r.a.createElement(i,null),r.a.createElement(m.b,{exact:!0,path:"/",component:g}),r.a.createElement(m.b,{path:"/home",component:d}),r.a.createElement(m.b,{path:"/locais/listar",component:j}),r.a.createElement(m.b,{path:"/locais/cadastrar",component:O}),r.a.createElement(m.b,{path:"/eventos/listar",component:g}),r.a.createElement(m.b,{path:"/eventos/cadastrar",component:w}),r.a.createElement(m.a,{from:"*",to:"/"}),r.a.createElement(u,null)):r.a.createElement(s.a,null,r.a.createElement(m.b,{exact:!0,path:"/",component:h}),r.a.createElement(m.a,{from:"*",to:"/"})))};l.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.cf79d2ee.chunk.js.map